(()=>{"use strict";var e,n={955:()=>{const e=window.wp.blocks,n=window.wp.element,o=window.wp.i18n,s=window.wp.blockEditor,l=window.wp.components,i=window.wp.primitives,t=window.ReactJSXRuntime,c=(0,t.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,t.jsx)(i.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),a=(0,t.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,t.jsx)(i.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),r=(0,t.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,t.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})});function d({attributes:e,setAttributes:n,setOpen:i}){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.InspectorControls,{children:(0,t.jsxs)(l.PanelBody,{title:(0,o.__)("Settings"),children:[(0,t.jsx)(s.PanelColorSettings,{title:(0,o.__)("Colors"),initialOpen:!0,colorSettings:[{label:(0,o.__)("Icon Color","lwn-icons"),value:e?.iconColor,onChange:e=>n({iconColor:e}),enableAlpha:!0}]}),(0,t.jsx)(l.RangeControl,{label:(0,o.__)("Icon Size","lwn-icons"),value:e.iconSize,onChange:e=>n({iconSize:e}),min:5,max:300}),(0,t.jsx)(l.TextControl,{label:(0,o.__)("Tooltip / Title","lwn-icons"),value:e.iconTitle,onChange:e=>n({iconTitle:e}),help:(0,o.__)("Text shown on hover","lwn-icons")}),(0,t.jsxs)("div",{style:{marginTop:"16px"},children:[(0,t.jsx)("label",{children:(0,o.__)("Icon Link","lwn-icons")}),(0,t.jsx)(s.URLInput,{value:e.link,onChange:e=>n({link:e})})]}),(0,t.jsx)(l.SelectControl,{label:(0,o.__)("Open link in","lwn-icons"),value:e.linkTarget,options:[{label:(0,o.__)("Same tab","lwn-icons"),value:"_self"},{label:(0,o.__)("New tab","lwn-icons"),value:"_blank"}],onChange:e=>n({linkTarget:e})})]})}),e.selectedIcon&&(0,t.jsx)(s.BlockControls,{children:(0,t.jsxs)(l.Toolbar,{label:"Options",children:[(0,t.jsx)(l.ToolbarButton,{icon:r,label:(0,o.__)("Delete Icon","lwn-icons"),onClick:()=>n({selectedIcon:""})}),(0,t.jsx)(l.ToolbarButton,{icon:a,label:(0,o.__)("Replace Icon","lwn-icons"),onClick:()=>i(!0)})]})})]})}const h=window.React;function w({icons:e,setFilteredIcons:n}){const[s,l]=(0,h.useState)("");return(0,h.useEffect)(()=>{if(e&&Array.isArray(e))if(s.trim()){const o=e.map(e=>({...e,icons:e.icons.filter(e=>{const n=e?.name.toLowerCase().includes(s.toLowerCase()),o=e?.tags&&e.tags.some(e=>e.toLowerCase().includes(s.toLowerCase()));return n||o})})).filter(e=>e.icons.length>0);n(o)}else n(e)},[s,e,n]),(0,t.jsxs)("div",{className:"wp-block-learn-with-naw-lwn-icons__search-icons",children:[(0,t.jsx)("label",{children:(0,o.__)("Search Icons","lwn-icons")}),(0,t.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value)})]})}function x({selectedIcon:e,icons:n,setFilteredIcons:s}){return(0,t.jsxs)("div",{className:"lwn-icons-modal-header-actions",children:[(0,t.jsx)("div",{className:"row selected-icon",children:e?(0,t.jsxs)("p",{className:"selected-status",children:[(0,t.jsxs)("span",{children:[(0,o.__)("You selected:","lwn-icons")," "]}),(0,t.jsx)("i",{className:"material-symbols-outlined",children:e})]}):(0,t.jsx)("p",{className:"no-selected-icon",children:(0,o.__)("No icon selected","lwn-icons")})}),(0,t.jsx)("div",{className:"row row-search-icons",children:(0,t.jsx)(w,{icons:n,setFilteredIcons:s})})]})}function m(e){const{icons:s,message:i,loading:c,refetch:a,clearCache:r}=e,[d,h]=(0,n.useState)(!1);return(0,t.jsxs)("div",{style:{marginTop:"16px",marginBottom:"16px"},children:[(0,t.jsxs)("div",{style:{cursor:"pointer",fontWeight:"bold",padding:"8px 0",borderBottom:"1px solid #ddd"},onClick:()=>h(!d),children:[d?"▼ ":"▶ ",(0,o.__)("Sync with Google","lwn-icons")]}),d&&(0,t.jsxs)("div",{style:{padding:"8px 0 16px 16px"},children:[(0,t.jsx)("p",{style:{fontSize:"0.85em",color:"#555"},children:(0,o.__)("Cannot see the icon you expected? Click “Fetch & Cache” to sync with the official Google Material Icons and refresh the cache.","lwn-icons")}),(0,t.jsx)(l.Button,{variant:"primary",onClick:a,disabled:c,style:{marginBottom:"8px"},children:c?(0,o.__)("Fetching Icons...","lwn-icons"):(0,o.__)("Fetch & Cache Material Icons","lwn-icons")}),(0,t.jsx)(l.Button,{variant:"secondary",onClick:r,style:{marginLeft:"8px"},children:(0,o.__)("Clear Cache","lwn-icons")}),i&&(0,t.jsxs)("p",{style:{marginTop:"8px",fontSize:"0.85em",color:"#333"},children:[i," ",s.length>0&&`${s.length} ${(0,o.__)("categories cached","lwn-icons")}`]})]})]})}const p="material-icons-data",u="material-icons-cache-time",g=JSON.parse('{"UU":"learn-with-naw/lwn-icons"}');(0,e.registerBlockType)(g.UU,{edit:function({attributes:e,setAttributes:i}){const a=(0,s.useBlockProps)(),{icons:r,message:h,loading:w,refetch:g,clearCache:j}=function({forceRefresh:e=!1}={}){const[o,s]=(0,n.useState)([]),[l,i]=(0,n.useState)(""),[t,c]=(0,n.useState)(!1),a=async()=>{c(!0),i("Fetching icons...");try{const n=localStorage.getItem(p),o=localStorage.getItem(u);if(!e&&n&&o&&Date.now()-parseInt(o,10)<864e5)return s(JSON.parse(n)),i("Using cached icons"),void c(!1);const l=await fetch("https://raw.githubusercontent.com/nawras92/google-material-icons-json/main/data/icons.json");if(!l.ok)throw new Error(`Failed to fetch icons: ${l.status}`);const t=await l.json();localStorage.setItem(p,JSON.stringify(t)),localStorage.setItem(u,Date.now().toString()),s(t),i(`Fetched ${t.length} categories`)}catch(e){i(`Error: ${e.message}`),console.error(e)}finally{c(!1)}};return(0,n.useEffect)(()=>{a()},[]),{icons:o,message:l,loading:t,refetch:a,clearCache:()=>{localStorage.removeItem(p),localStorage.removeItem(u),s([]),i("Cache cleared")}}}(),[_,v]=(0,n.useState)(!1),[f,b]=(0,n.useState)([]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d,{attributes:e,setAttributes:i,setOpen:v}),(0,t.jsxs)("div",{...a,children:[!e.selectedIcon&&(0,t.jsx)("div",{className:"wp-block-learn-with-naw-lwn-icons__user-control",children:(0,t.jsx)(l.Button,{icon:c,variant:"secondary",onClick:()=>v(!0),children:(0,o.__)("Select an Icon","lwn-icons")})}),_&&(0,t.jsxs)(l.Modal,{size:"large",className:"wp-block-learn-with-naw-lwn-icons__icons-modal",onRequestClose:()=>v(!1),title:(0,o.__)("Material Icon List","lwn-icons"),headerActions:(0,t.jsx)(x,{selectedIcon:e?.selectedIcon,icons:r,setFilteredIcons:b}),children:[(0,t.jsx)(m,{icons:r,message:h,loading:w,refetch:g,clearCache:j}),(0,t.jsx)("div",{className:"wp-block-learn-with-naw-lwn-icons__icons-details",children:(0,t.jsxs)("div",{className:"wp-block-learn-with-naw-lwn-icons__icons-list",children:[0===f.length&&(0,t.jsxs)("p",{children:[(0,o.__)("No icons found. Try adjusting your search or syncing the icon list.","lwn-icons")," "]}),f.map((n,o)=>(0,t.jsxs)("div",{className:"icon-category",children:[(0,t.jsx)("h3",{children:n.category?.toUpperCase()}),(0,t.jsx)("div",{className:"icon-grid",children:n.icons.map((n,o)=>(0,t.jsx)("i",{className:"material-symbols-outlined "+(e.selectedIcon===n?.name?"selected":""),onClick:()=>i({selectedIcon:n?.name}),children:n?.name},o))}),(0,t.jsx)("hr",{})]},o))]})})]}),e.selectedIcon&&(0,t.jsx)("i",{className:"material-symbols-outlined",style:{color:e.iconColor,fontSize:e.iconSize+"px"},title:e.iconTitle,children:e.selectedIcon})]})]})},save:function({attributes:e}){const n=s.useBlockProps.save();return(0,t.jsx)("div",{...n,children:e.selectedIcon&&(e.link?(0,t.jsx)("a",{href:e.link,target:e.linkTarget,rel:"_blank"===e.linkTarget?"noopener noreferrer":void 0,title:e.iconTitle,style:{display:"inline-block"},children:(0,t.jsx)("i",{className:"lwn-icon material-symbols-outlined",style:{color:e.iconColor,fontSize:e.iconSize+"px"},children:e.selectedIcon})}):(0,t.jsx)("i",{className:"lwn-icon material-symbols-outlined",style:{color:e.iconColor,fontSize:e.iconSize+"px"},title:e.iconTitle,children:e.selectedIcon}))})}})}},o={};function s(e){var l=o[e];if(void 0!==l)return l.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,s),i.exports}s.m=n,e=[],s.O=(n,o,l,i)=>{if(!o){var t=1/0;for(d=0;d<e.length;d++){for(var[o,l,i]=e[d],c=!0,a=0;a<o.length;a++)(!1&i||t>=i)&&Object.keys(s.O).every(e=>s.O[e](o[a]))?o.splice(a--,1):(c=!1,i<t&&(t=i));if(c){e.splice(d--,1);var r=l();void 0!==r&&(n=r)}}return n}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,l,i]},s.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={57:0,350:0};s.O.j=n=>0===e[n];var n=(n,o)=>{var l,i,[t,c,a]=o,r=0;if(t.some(n=>0!==e[n])){for(l in c)s.o(c,l)&&(s.m[l]=c[l]);if(a)var d=a(s)}for(n&&n(o);r<t.length;r++)i=t[r],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},o=globalThis.webpackChunklwn_icons=globalThis.webpackChunklwn_icons||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))})();var l=s.O(void 0,[350],()=>s(955));l=s.O(l)})();