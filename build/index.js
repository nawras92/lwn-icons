(()=>{"use strict";var e,n={955:()=>{const e=window.wp.blocks,n=window.wp.element,s=window.wp.i18n,o=window.wp.blockEditor,t=window.wp.components,c=window.wp.primitives,i=window.ReactJSXRuntime,l=(0,i.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(c.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),a=(0,i.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(c.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),r=(0,i.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(c.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})});function d({attributes:e,setAttributes:n,setOpen:c}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.InspectorControls,{children:(0,i.jsxs)(t.PanelBody,{title:(0,s.__)("Settings"),children:[(0,i.jsx)(o.PanelColorSettings,{title:(0,s.__)("Colors"),initialOpen:!0,colorSettings:[{label:(0,s.__)("Icon Color","lwn-icons"),value:e?.iconColor,onChange:e=>n({iconColor:e}),enableAlpha:!0}]}),(0,i.jsx)(t.RangeControl,{label:(0,s.__)("Icon Size","lwn-icons"),value:e.iconSize,onChange:e=>n({iconSize:e}),min:5,max:300})]})}),e.selectedIcon&&(0,i.jsx)(o.BlockControls,{children:(0,i.jsxs)(t.Toolbar,{label:"Options",children:[(0,i.jsx)(t.ToolbarButton,{icon:r,label:(0,s.__)("Delete Icon","lwn-icons"),onClick:()=>n({selectedIcon:""})}),(0,i.jsx)(t.ToolbarButton,{icon:a,label:(0,s.__)("Replace Icon","lwn-icons"),onClick:()=>c(!0)})]})})]})}const h=window.React;function w({icons:e,setFilteredIcons:n}){const[o,t]=(0,h.useState)("");return(0,h.useEffect)(()=>{if(e&&Array.isArray(e))if(o.trim()){const s=e.map(e=>({...e,icons:e.icons.filter(e=>{const n=e?.name.toLowerCase().includes(o.toLowerCase()),s=e?.tags&&e.tags.some(e=>e.toLowerCase().includes(o.toLowerCase()));return n||s})})).filter(e=>e.icons.length>0);n(s)}else n(e)},[o,e,n]),(0,i.jsxs)("div",{className:"wp-block-learn-with-naw-lwn-icons__search-icons",children:[(0,i.jsx)("label",{children:(0,s.__)("Search Icons","lwn-icons")}),(0,i.jsx)("input",{type:"text",value:o,onChange:e=>t(e.target.value)})]})}function m({selectedIcon:e,icons:n,setFilteredIcons:o}){return(0,i.jsxs)("div",{className:"lwn-icons-modal-header-actions",children:[(0,i.jsx)("div",{className:"row selected-icon",children:e?(0,i.jsxs)("p",{className:"selected-status",children:[(0,i.jsxs)("span",{children:[(0,s.__)("You selected:","lwn-icons")," "]}),(0,i.jsx)("i",{className:"material-symbols-outlined",children:e})]}):(0,i.jsx)("p",{className:"no-selected-icon",children:(0,s.__)("No icon selected","lwn-icons")})}),(0,i.jsx)("div",{className:"row row-search-icons",children:(0,i.jsx)(w,{icons:n,setFilteredIcons:o})})]})}function u(e){const{icons:o,message:c,loading:l,refetch:a,clearCache:r}=e,[d,h]=(0,n.useState)(!1);return(0,i.jsxs)("div",{style:{marginTop:"16px",marginBottom:"16px"},children:[(0,i.jsxs)("div",{style:{cursor:"pointer",fontWeight:"bold",padding:"8px 0",borderBottom:"1px solid #ddd"},onClick:()=>h(!d),children:[d?"▼ ":"▶ ",(0,s.__)("Sync with Google","lwn-icons")]}),d&&(0,i.jsxs)("div",{style:{padding:"8px 0 16px 16px"},children:[(0,i.jsx)("p",{style:{fontSize:"0.85em",color:"#555"},children:(0,s.__)("Cannot see the icon you expected? Click “Fetch & Cache” to sync with the official Google Material Icons and refresh the cache.","lwn-icons")}),(0,i.jsx)(t.Button,{variant:"primary",onClick:a,disabled:l,style:{marginBottom:"8px"},children:l?(0,s.__)("Fetching Icons...","lwn-icons"):(0,s.__)("Fetch & Cache Material Icons","lwn-icons")}),(0,i.jsx)(t.Button,{variant:"secondary",onClick:r,style:{marginLeft:"8px"},children:(0,s.__)("Clear Cache","lwn-icons")}),c&&(0,i.jsxs)("p",{style:{marginTop:"8px",fontSize:"0.85em",color:"#333"},children:[c," ",o.length>0&&`${o.length} ${(0,s.__)("categories cached","lwn-icons")}`]})]})]})}const x="material-icons-data",p="material-icons-cache-time",g=JSON.parse('{"UU":"learn-with-naw/lwn-icons"}');(0,e.registerBlockType)(g.UU,{edit:function({attributes:e,setAttributes:c}){const a=(0,o.useBlockProps)(),{icons:r,message:h,loading:w,refetch:g,clearCache:j}=function({forceRefresh:e=!1}={}){const[s,o]=(0,n.useState)([]),[t,c]=(0,n.useState)(""),[i,l]=(0,n.useState)(!1),a=async()=>{l(!0),c("Fetching icons...");try{const n=localStorage.getItem(x),s=localStorage.getItem(p);if(!e&&n&&s&&Date.now()-parseInt(s,10)<864e5)return o(JSON.parse(n)),c("Using cached icons"),void l(!1);const t=await fetch("https://raw.githubusercontent.com/nawras92/google-material-icons-json/main/data/icons.json");if(!t.ok)throw new Error(`Failed to fetch icons: ${t.status}`);const i=await t.json();localStorage.setItem(x,JSON.stringify(i)),localStorage.setItem(p,Date.now().toString()),o(i),c(`Fetched ${i.length} categories`)}catch(e){c(`Error: ${e.message}`),console.error(e)}finally{l(!1)}};return(0,n.useEffect)(()=>{a()},[]),{icons:s,message:t,loading:i,refetch:a,clearCache:()=>{localStorage.removeItem(x),localStorage.removeItem(p),o([]),c("Cache cleared")}}}(),[v,f]=(0,n.useState)(!1),[_,b]=(0,n.useState)([]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d,{attributes:e,setAttributes:c,setOpen:f}),(0,i.jsxs)("div",{...a,children:[!e.selectedIcon&&(0,i.jsx)("div",{className:"wp-block-learn-with-naw-lwn-icons__user-control",children:(0,i.jsx)(t.Button,{icon:l,variant:"secondary",onClick:()=>f(!0),children:(0,s.__)("Select an Icon","lwn-icons")})}),v&&(0,i.jsxs)(t.Modal,{size:"large",className:"wp-block-learn-with-naw-lwn-icons__icons-modal",onRequestClose:()=>f(!1),title:(0,s.__)("Material Icon List","lwn-icons"),headerActions:(0,i.jsx)(m,{selectedIcon:e?.selectedIcon,icons:r,setFilteredIcons:b}),children:[(0,i.jsx)(u,{icons:r,message:h,loading:w,refetch:g,clearCache:j}),(0,i.jsx)("div",{className:"wp-block-learn-with-naw-lwn-icons__icons-details",children:(0,i.jsxs)("div",{className:"wp-block-learn-with-naw-lwn-icons__icons-list",children:[0===_.length&&(0,i.jsxs)("p",{children:[(0,s.__)("No icons found. Try adjusting your search or syncing the icon list.","lwn-icons")," "]}),_.map((n,s)=>(0,i.jsxs)("div",{className:"icon-category",children:[(0,i.jsx)("h3",{children:n.category?.toUpperCase()}),(0,i.jsx)("div",{className:"icon-grid",children:n.icons.map((n,s)=>(0,i.jsx)("i",{className:"material-symbols-outlined "+(e.selectedIcon===n?.name?"selected":""),onClick:()=>c({selectedIcon:n?.name}),children:n?.name},s))}),(0,i.jsx)("hr",{})]},s))]})})]}),e.selectedIcon&&(0,i.jsx)("i",{className:"material-symbols-outlined",style:{color:e.iconColor,fontSize:e.iconSize+"px"},children:e.selectedIcon})]})]})},save:function({attributes:e}){const n=o.useBlockProps.save();return(0,i.jsx)("div",{...n,children:e.selectedIcon&&(0,i.jsx)("i",{className:"lwn-icon material-symbols-outlined",style:{color:e.iconColor,fontSize:e.iconSize+"px"},children:e.selectedIcon})})}})}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var c=s[e]={exports:{}};return n[e](c,c.exports,o),c.exports}o.m=n,e=[],o.O=(n,s,t,c)=>{if(!s){var i=1/0;for(d=0;d<e.length;d++){for(var[s,t,c]=e[d],l=!0,a=0;a<s.length;a++)(!1&c||i>=c)&&Object.keys(o.O).every(e=>o.O[e](s[a]))?s.splice(a--,1):(l=!1,c<i&&(i=c));if(l){e.splice(d--,1);var r=t();void 0!==r&&(n=r)}}return n}c=c||0;for(var d=e.length;d>0&&e[d-1][2]>c;d--)e[d]=e[d-1];e[d]=[s,t,c]},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={57:0,350:0};o.O.j=n=>0===e[n];var n=(n,s)=>{var t,c,[i,l,a]=s,r=0;if(i.some(n=>0!==e[n])){for(t in l)o.o(l,t)&&(o.m[t]=l[t]);if(a)var d=a(o)}for(n&&n(s);r<i.length;r++)c=i[r],o.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return o.O(d)},s=globalThis.webpackChunklwn_icons=globalThis.webpackChunklwn_icons||[];s.forEach(n.bind(null,0)),s.push=n.bind(null,s.push.bind(s))})();var t=o.O(void 0,[350],()=>o(955));t=o.O(t)})();